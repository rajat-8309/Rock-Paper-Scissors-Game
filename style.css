:root {
  --bg: #e0e0e0;
  --card: #ffffff;
  --muted: #236562;
  --accent: #0ea5e9;
  --accent-2: #2563eb;
  --win: #059669;
  --lose: #ea580c;
  --glass: rgb(220, 212, 212);
  --radius: 14px;
  --transition: 220ms;
  font-size: 16px;
}

:root.dark {
  --bg: #0f1724;
  --card: #0b1220;
  --muted: #236562;
  --accent: #7dd3fc;
  --accent-2: #60a5fa;
  --win: #10b981;
  --lose: #f97316;
  --glass: rgba(255,255,255,0.03);
}

* { box-sizing: border-box }
html, body { height: 100% }
body {
  margin: 0;
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background: linear-gradient(180deg, var(--bg), var(--bg) 80%);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: #30978b;
  padding: 24px;
}

.app {
  max-width: 980px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.app-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.title-wrap { max-width: 56% }
.app-title { margin: 0; font-size: 1.6rem; letter-spacing: 0.6px }
.subtitle { margin: 4px 0 0; color: var(--muted); font-size: 0.95rem }

.controls { display: flex; gap: 8px; align-items: center }
.mode-label select {
  padding: 6px 8px;
  border-radius: 8px;
  background: var(--card);
  color: inherit;
  border: 1px solid rgba(0,0,0,0.05)
}

.btn {
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  border: none;
  padding: 8px 12px;
  border-radius: 10px;
  color: white;
  cursor: pointer;
  transition: transform var(--transition) ease, box-shadow var(--transition);
}
.btn.small { padding: 6px 8px; font-size: 0.9rem }
.btn:active { transform: translateY(2px) }
.btn.outline { background: transparent; border: 1px solid rgba(0,0,0,0.06); color: inherit }
.btn.danger { background: #ff6b6b; color: white }

.game-area {
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 18px;
  align-items: start;
}

.scoreboard {
  display: flex;
  gap: 12px;
  background: var(--card);
  padding: 12px;
  border-radius: 12px;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 6px 18px rgba(0,0,0,0.1);
}
.score-block { flex: 1; text-align: center; padding: 6px }
.score-block.center { border-left: 1px solid rgba(0,0,0,0.05); border-right: 1px solid rgba(0,0,0,0.05) }
.label { color: var(--muted); font-size: 0.85rem }
.score-num { font-weight: 700; font-size: 1.6rem }

.arena {
  margin-top: 12px;
  background: var(--card);
  padding: 18px;
  border-radius: 12px;
  min-height: 280px;
  display: flex;
  flex-direction: column;
  gap: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08)
}

.choices {
  display: flex;
  gap: 16px;
  justify-content: center;
  align-items: stretch;
}

.choice-btn {
  background: var(--glass);
  border: 1px solid rgba(0,0,0,0.04);
  padding: 12px 16px;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 110px;
  min-height: 110px;
  gap: 8px;
  cursor: pointer;
  transition: transform var(--transition), box-shadow var(--transition), background var(--transition);
  color: inherit;
  text-align: center;
}
.choice-btn:focus { outline: 2px solid rgba(14,165,233,0.3); transform: translateY(-4px) }
.choice-btn:hover { transform: translateY(-6px); box-shadow: 0 10px 30px rgba(0,0,0,0.15) }

.icon { width: 50px; height: 50px; opacity: 0.95; flex-shrink: 0 }
.choice-btn span { font-weight: 600 }

.result-card {
  background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
  padding: 12px;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  align-items: center;
}
.round { display: flex; align-items: center; gap: 18px; width: 100%; justify-content: space-between }
.choice-display { text-align: center; min-width: 110px }
.who { font-size: 0.85rem; color: var(--muted) }
.choice-visual { font-weight: 700; font-size: 1.15rem; padding: 8px; border-radius: 10px; background: rgba(0,0,0,0.02) }
.versus { font-weight: 900; color: var(--muted) }
.result-text { font-size: 1.05rem; font-weight: 700 }
.result-actions { display: flex; gap: 8px }

.summary {
  background: var(--card);
  padding: 12px;
  border-radius: 12px
}
.stats-list { list-style: none; padding-left: 0; margin: 8px 0 0 }
.stats-list li { margin: 6px 0; color: var(--muted) }
.hint { margin-top: 10px; color: var(--muted); font-size: 0.9rem }

.app-footer { text-align: center; color: var(--muted); margin-top: 6px }

.confetti-canvas {
  position: fixed;
  left: 0;    
  top: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 9999;
  display: block
}

@media (max-width:900px) {
  .game-area { grid-template-columns: 1fr; align-items: stretch }
  .title-wrap { max-width: 100% }
  .choice-btn { min-width: 90px; min-height: 90px }
  .icon { width: 40px; height: 40px }
}
